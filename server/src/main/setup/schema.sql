
CREATE SCHEMA "J1";

-- ----------------------------------------------
-- DDL Statements for tables
-- ----------------------------------------------

CREATE TABLE "J1"."PRODUCT" ("ID" INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1), "LAST_UPDATE" TIMESTAMP, "NAME" VARCHAR(255), "PRICE" DECIMAL(15,2), "CATEGORY_ID" SMALLINT);

CREATE TABLE "J1"."CATEGORY" ("ID" SMALLINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1), "NAME" VARCHAR(255));

CREATE TABLE "J1"."CUSTOMER" ("ID" INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1), "ADDRESS" VARCHAR(255), "CC_NUMBER" VARCHAR(255), "CITY_REGION" VARCHAR(255), "EMAIL" VARCHAR(255), "NAME" VARCHAR(255), "PHONE" VARCHAR(255));

CREATE TABLE "J1"."ORDERED_PRODUCT" ("QUANTITY" SMALLINT, "CUSTOMER_ORDER_ID" INTEGER NOT NULL, "PRODUCT_ID" INTEGER NOT NULL);

CREATE TABLE "J1"."CUSTOMER_ORDER" ("ID" INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1), "AMOUNT" DECIMAL(15,0), "CONFIRMATION_NUMBER" INTEGER, "DATE_CREATED" TIMESTAMP, "CUSTOMER_ID" INTEGER);

-- ----------------------------------------------
-- DDL Statements for keys
-- ----------------------------------------------

-- PRIMARY/UNIQUE
ALTER TABLE "J1"."CUSTOMER" ADD CONSTRAINT "SQL130923150446700" PRIMARY KEY ("ID");

ALTER TABLE "J1"."ORDERED_PRODUCT" ADD CONSTRAINT "SQL130923150446780" PRIMARY KEY ("CUSTOMER_ORDER_ID", "PRODUCT_ID");

ALTER TABLE "J1"."CATEGORY" ADD CONSTRAINT "SQL130923150446720" PRIMARY KEY ("ID");

ALTER TABLE "J1"."CUSTOMER_ORDER" ADD CONSTRAINT "SQL130923150446750" PRIMARY KEY ("ID");

ALTER TABLE "J1"."PRODUCT" ADD CONSTRAINT "SQL130923150446620" PRIMARY KEY ("ID");

-- FOREIGN
ALTER TABLE "J1"."ORDERED_PRODUCT" ADD CONSTRAINT "RDRDPRDCTCSTMRRDRD" FOREIGN KEY ("CUSTOMER_ORDER_ID") REFERENCES "J1"."CUSTOMER_ORDER" ("ID") ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE "J1"."ORDERED_PRODUCT" ADD CONSTRAINT "RDRDPRODUCTPRDCTID" FOREIGN KEY ("PRODUCT_ID") REFERENCES "J1"."PRODUCT" ("ID") ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE "J1"."CUSTOMER_ORDER" ADD CONSTRAINT "CSTMRORDERCSTMERID" FOREIGN KEY ("CUSTOMER_ID") REFERENCES "J1"."CUSTOMER" ("ID") ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE "J1"."PRODUCT" ADD CONSTRAINT "PRODUCTCATEGORY_ID" FOREIGN KEY ("CATEGORY_ID") REFERENCES "J1"."CATEGORY" ("ID") ON DELETE NO ACTION ON UPDATE NO ACTION;


